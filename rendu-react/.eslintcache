[{"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/index.js":"1","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/App.js":"2","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Header.js":"3","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Filter.js":"4","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/ItemList.js":"5","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Basket.js":"6"},{"size":219,"mtime":1607596316556,"results":"7","hashOfConfig":"8"},{"size":5129,"mtime":1607696057426,"results":"9","hashOfConfig":"8"},{"size":446,"mtime":1607673230762,"results":"10","hashOfConfig":"8"},{"size":1515,"mtime":1607612474683,"results":"11","hashOfConfig":"8"},{"size":2505,"mtime":1607695988604,"results":"12","hashOfConfig":"8"},{"size":1924,"mtime":1607696545160,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"oml9tn",{"filePath":"17","messages":"18","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":8,"source":"19","usedDeprecatedRules":"16"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"16"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"16"},"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/index.js",[],["31","32"],"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/App.js",["33","34","35","36","37","38","39","40","41","42","43"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport LoadingPic from \"./loading.svg\";\n\nimport Header from \"./components/Header\";\nimport ItemList from \"./components/ItemList\";\nimport Filter from \"./components/Filter\";\nimport Basket from \"./components/Basket\";\n\nconst App = () => {\n  const [defaultItems, setDefaultItems] = useState(null);\n  const [items, setItems] = useState(null);\n  const [itemSearch, setItemSearch] = useState(null);\n  const [menClothes, setMenClothes] = useState(null);\n  const [jewelery, setJewelery] = useState(null);\n  const [electronics, setElectronics] = useState(null);\n  const [womenClothes, setWomenClothes] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const [basketItem, setBasketItem] = useState([]);\n  const [searchContent, setSearchContent] = useState(\"\");\n  const [tags, setTags] = useState({\n    [\"Women clothing\"]: false,\n    [\"Electronics\"]: false,\n    [\"Men clothing\"]: false,\n    [\"Jewelery\"]: false,\n  });\n\n  const getItems = async () => {\n    try {\n      const result = await axios.get(\"https://fakestoreapi.com/products\");\n      const menArr = [];\n      const womenArr = [];\n      const jewelArr = [];\n      const electArr = [];\n\n      result.data.forEach((el) => {\n        if (el.category === \"men clothing\") {\n          menArr.push(el);\n        }\n        if (el.category === \"women clothing\") {\n          womenArr.push(el);\n        }\n        if (el.category === \"jewelery\") {\n          jewelArr.push(el);\n        }\n        if (el.category === \"electronics\") {\n          electArr.push(el);\n        }\n      });\n\n      await setItems(result.data);\n      await setDefaultItems(result.data);\n      await setMenClothes(menArr);\n      await setWomenClothes(womenArr);\n      await setJewelery(jewelArr);\n      await setElectronics(electArr);\n      setIsLoading(false);\n    } catch (err) {\n      console.log(err);\n      setIsLoading(false);\n    }\n  };\n\n  const verificationTags = () => {\n    for (const el in tags) {\n      if (tags[el] === true) {\n        return true;\n      }\n    }\n  };\n\n  const itemToDisplay = async () => {\n    try {\n      setIsLoading(true);\n      await setSearchContent(\"\");\n      let newArr = [];\n      console.log(\"start\", newArr);\n\n      if (tags[\"Women clothing\"]) {\n        newArr = [...newArr, ...womenClothes];\n        console.log(\"women\", newArr);\n      }\n      if (tags[\"Men clothing\"]) {\n        newArr = [...newArr, ...menClothes];\n        console.log(\"men\", newArr);\n      }\n      if (tags[\"Jewelery\"]) {\n        newArr = [...newArr, ...jewelery];\n        console.log(\"jewelery\", newArr);\n      }\n      if (tags[\"Electronics\"]) {\n        newArr = [...newArr, ...electronics];\n        console.log(\"electronics\", newArr);\n      }\n      console.log(\"end\", newArr);\n      setItems(newArr);\n\n      setIsLoading(false);\n    } catch (err) {\n      console.log(err);\n      setIsLoading(false);\n    }\n  };\n\n  const searchResult = async () => {\n    try {\n      await setItemSearch(null);\n      let result = [];\n      items.forEach((el) => {\n        if (el.title.toLowerCase().includes(searchContent.toLowerCase())) {\n          result.push(el);\n        }\n      });\n      if (result.length > 0) {\n        await setItems(result);\n      } else {\n        await setItemSearch(\"no result\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getItems();\n  }, []);\n\n  useEffect(() => {\n    if (verificationTags()) {\n      itemToDisplay();\n    } else {\n      setItems(defaultItems);\n    }\n  }, [tags]);\n\n  useEffect(() => {\n    if (searchContent) {\n      searchResult();\n    } else {\n      setItems(defaultItems);\n      setTags({\n        [\"Women clothing\"]: false,\n        [\"Electronics\"]: false,\n        [\"Men clothing\"]: false,\n        [\"Jewelery\"]: false,\n      });\n    }\n  }, [searchContent]);\n\n  return (\n    <div id=\"app\">\n      {isLoading && (\n        <div className=\"loading-container\">\n          <img src={LoadingPic} />\n        </div>\n      )}\n      {isOpen && (\n        <Basket\n          basketItem={basketItem}\n          setBasketItem={setBasketItem}\n          isOpen={isOpen}\n          setIsOpen={setIsOpen}\n        />\n      )}\n      {!isLoading && (\n        <>\n          <Header\n            isOpen={isOpen}\n            setIsOpen={setIsOpen}\n            basketItem={basketItem}\n          />\n          <div className=\"content-container\">\n            <Filter\n              tags={tags}\n              setTags={setTags}\n              menClothes={menClothes}\n              womenClothes={womenClothes}\n              jewelery={jewelery}\n              electronics={electronics}\n              setSearchContent={setSearchContent}\n              searchContent={searchContent}\n            />\n            {!itemSearch && (\n              <ItemList\n                items={items}\n                basketItem={basketItem}\n                setBasketItem={setBasketItem}\n              />\n            )}\n\n            {searchContent && itemSearch && <h2>No result</h2>}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Header.js",[],"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Filter.js",[],["44","45"],"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/ItemList.js",["46","47","48","49"],"import React, { useState } from \"react\";\n\nconst ItemList = ({ items, basketItem, setBasketItem }) => {\n  const [itemToAdd, setItemToAdd] = useState(1);\n\n  const handleChange = (e) => {\n    setItemToAdd({ qty: e.target.value, id: e.target.name });\n  };\n\n  const addToBasket = (data) => {\n    if (data.id == itemToAdd.id) {\n      const dataToPush = {\n        id: data.id,\n        title: data.title,\n        price: data.price,\n        img: data.image,\n        qty: parseInt(itemToAdd.qty),\n      };\n      if (basketItem.length === 0) {\n        setBasketItem([dataToPush]);\n      } else {\n        const isAlrdyIn = basketItem.findIndex((item) => item.id === data.id);\n        console.log(isAlrdyIn);\n        if (isAlrdyIn != -1) {\n          const newArr = [...basketItem];\n          newArr[isAlrdyIn].qty = newArr[isAlrdyIn].qty + dataToPush.qty;\n          console.log(newArr);\n          setBasketItem(newArr);\n        } else {\n          setBasketItem([...basketItem, dataToPush]);\n        }\n      }\n    } else {\n      const dataToPush = {\n        id: data.id,\n        title: data.title,\n        price: data.price,\n        img: data.image,\n        qty: 1,\n      };\n      if (basketItem.length === 0) {\n        setBasketItem([dataToPush]);\n      } else {\n        const isAlrdyIn = basketItem.findIndex((item) => item.id === data.id);\n        console.log(isAlrdyIn);\n        if (isAlrdyIn != -1) {\n          const newArr = [...basketItem];\n          newArr[isAlrdyIn].qty = newArr[isAlrdyIn].qty + dataToPush.qty;\n          console.log(newArr);\n          setBasketItem(newArr);\n        } else {\n          setBasketItem([...basketItem, dataToPush]);\n        }\n      }\n    }\n  };\n  return (\n    <div className=\"item-list-container\">\n      {items &&  (\n        <>\n          {items.map((data, i) => (\n            <div className=\"item-container\" key={i}>\n              <img className=\"item-picture\" src={data.image} />\n              <h5>{data.title}</h5>\n              <h4>{data.price} $</h4>\n              <div className=\"button-item\">\n                <select name={data.id} onChange={handleChange}>\n                  <option value={1}>1</option>\n                  <option value={2}>2</option>\n                  <option value={3}>3</option>\n                  <option value={4}>4</option>\n                </select>\n                <button onClick={() => addToBasket(data)}>Add to basket</button>\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ItemList;\n","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Basket.js",["50","51","52"],"import React, { useState, useEffect } from \"react\";\nimport ClosePic from \"./cancel.png\"\n\nconst Basket = ({ basketItem, setBasketItem, isOpen, setIsOpen }) => {\n  const [cartTotal, setCartTotal] = useState(0);\n\n  const openBasket = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleChange = (data) => (event) => {\n    let arrCopy = [...basketItem];\n    let indexPos = arrCopy.findIndex((item) => item.id === data.id);\n    arrCopy[indexPos].qty = parseInt(event.target.value);\n\n    setBasketItem(arrCopy);\n  };\n\n  useEffect(() => {\n    total();\n  }, [basketItem]);\n\n  const total = () => {\n    let totalVal = 0;\n    for (let i = 0; i < basketItem.length; i++) {\n      totalVal += basketItem[i].price * basketItem[i].qty;\n    }\n    setCartTotal(totalVal);\n  };\n\n  const removeFromCart = (el) => {\n    let hardCopy = [...basketItem];\n    hardCopy = hardCopy.filter((basketItem) => basketItem.id !== el.id);\n    setBasketItem(hardCopy);\n  };\n\n  // const updateFromCart = (el) => {\n\n  //     let hardCopy = [...basketItem];\n  //     hardCopy[hardCopy.findIndex((basketItem) => basketItem.id === el.id)].qty = qtyChange;\n\n  //     setBasketItem([...hardCopy])\n  // }\n\n  return (\n    <div className=\"basket-large-container\">\n      <div className=\"basket-container\">\n        <img className=\"cross-pic\" src={ClosePic} onClick={openBasket} />\n        {basketItem.length > 0 &&\n          basketItem.map((data, i) => (\n            <div className=\"basket-item\" key={i}>\n              <img src={data.img}/>\n              <p>{data.title}</p>\n              <p>{data.price}$</p>\n              <input\n                type=\"number\"\n                onChange={handleChange(data)}\n                value={data.qty}\n              />\n              <button onClick={() => removeFromCart(data)}>remove</button>\n            </div>\n          ))}\n        <div>Total: ${cartTotal.toFixed(2)}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Basket;\n",{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":24,"column":5,"nodeType":"59","messageId":"60","endLine":24,"endColumn":30,"fix":"61"},{"ruleId":"57","severity":1,"message":"62","line":25,"column":5,"nodeType":"59","messageId":"60","endLine":25,"endColumn":27,"fix":"63"},{"ruleId":"57","severity":1,"message":"64","line":26,"column":5,"nodeType":"59","messageId":"60","endLine":26,"endColumn":28,"fix":"65"},{"ruleId":"57","severity":1,"message":"66","line":27,"column":5,"nodeType":"59","messageId":"60","endLine":27,"endColumn":24,"fix":"67"},{"ruleId":"68","severity":1,"message":"69","line":136,"column":6,"nodeType":"70","endLine":136,"endColumn":12,"suggestions":"71"},{"ruleId":"57","severity":1,"message":"58","line":144,"column":9,"nodeType":"59","messageId":"60","endLine":144,"endColumn":34,"fix":"72"},{"ruleId":"57","severity":1,"message":"62","line":145,"column":9,"nodeType":"59","messageId":"60","endLine":145,"endColumn":31,"fix":"73"},{"ruleId":"57","severity":1,"message":"64","line":146,"column":9,"nodeType":"59","messageId":"60","endLine":146,"endColumn":32,"fix":"74"},{"ruleId":"57","severity":1,"message":"66","line":147,"column":9,"nodeType":"59","messageId":"60","endLine":147,"endColumn":28,"fix":"75"},{"ruleId":"68","severity":1,"message":"76","line":150,"column":6,"nodeType":"70","endLine":150,"endColumn":21,"suggestions":"77"},{"ruleId":"78","severity":1,"message":"79","line":156,"column":11,"nodeType":"80","endLine":156,"endColumn":35},{"ruleId":"53","replacedBy":"81"},{"ruleId":"55","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":11,"column":17,"nodeType":"85","messageId":"86","endLine":11,"endColumn":19},{"ruleId":"83","severity":1,"message":"87","line":24,"column":23,"nodeType":"85","messageId":"86","endLine":24,"endColumn":25},{"ruleId":"83","severity":1,"message":"87","line":46,"column":23,"nodeType":"85","messageId":"86","endLine":46,"endColumn":25},{"ruleId":"78","severity":1,"message":"79","line":63,"column":15,"nodeType":"80","endLine":63,"endColumn":64},{"ruleId":"68","severity":1,"message":"88","line":21,"column":6,"nodeType":"70","endLine":21,"endColumn":18,"suggestions":"89"},{"ruleId":"78","severity":1,"message":"79","line":48,"column":9,"nodeType":"80","endLine":48,"endColumn":74},{"ruleId":"78","severity":1,"message":"79","line":52,"column":15,"nodeType":"80","endLine":52,"endColumn":36},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"no-useless-computed-key","Unnecessarily computed property [\"Women clothing\"] found.","Property","unnecessarilyComputedProperty",{"range":"92","text":"93"},"Unnecessarily computed property [\"Electronics\"] found.",{"range":"94","text":"95"},"Unnecessarily computed property [\"Men clothing\"] found.",{"range":"96","text":"97"},"Unnecessarily computed property [\"Jewelery\"] found.",{"range":"98","text":"99"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'defaultItems', 'itemToDisplay', and 'verificationTags'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setItems' needs the current value of 'defaultItems'.","ArrayExpression",["100"],{"range":"101","text":"93"},{"range":"102","text":"95"},{"range":"103","text":"97"},{"range":"104","text":"99"},"React Hook useEffect has missing dependencies: 'defaultItems' and 'searchResult'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setItems' needs the current value of 'defaultItems'.",["105"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["90"],["91"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","React Hook useEffect has a missing dependency: 'total'. Either include it or remove the dependency array.",["106"],"no-global-assign","no-unsafe-negation",[938,956],"\"Women clothing\"",[969,984],"\"Electronics\"",[997,1013],"\"Men clothing\"",[1026,1038],"\"Jewelery\"",{"desc":"107","fix":"108"},[3731,3749],[3766,3781],[3798,3814],[3831,3843],{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},"Update the dependencies array to be: [defaultItems, itemToDisplay, tags, verificationTags]",{"range":"113","text":"114"},"Update the dependencies array to be: [defaultItems, searchContent, searchResult]",{"range":"115","text":"116"},"Update the dependencies array to be: [basketItem, total]",{"range":"117","text":"118"},[3587,3593],"[defaultItems, itemToDisplay, tags, verificationTags]",[3873,3888],"[defaultItems, searchContent, searchResult]",[550,562],"[basketItem, total]"]