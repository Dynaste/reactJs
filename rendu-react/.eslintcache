[{"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/index.js":"1","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/App.js":"2","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Header.js":"3","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Filter.js":"4","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/ItemList.js":"5","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Basket.js":"6"},{"size":219,"mtime":1607596316556,"results":"7","hashOfConfig":"8"},{"size":4900,"mtime":1607620336025,"results":"9","hashOfConfig":"8"},{"size":446,"mtime":1607623532760,"results":"10","hashOfConfig":"8"},{"size":1515,"mtime":1607612474683,"results":"11","hashOfConfig":"8"},{"size":3131,"mtime":1607625742967,"results":"12","hashOfConfig":"8"},{"size":1635,"mtime":1607672626097,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"oml9tn",{"filePath":"17","messages":"18","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":4,"source":"19","usedDeprecatedRules":"16"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/index.js",[],["29","30"],"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/App.js",["31","32","33","34","35","36","37"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport LoadingPic from \"./loading.svg\";\n\nimport Header from \"./components/Header\";\nimport ItemList from \"./components/ItemList\";\nimport Filter from \"./components/Filter\";\nimport Basket from \"./components/Basket\";\n\nconst App = () => {\n  const [defaultItems, setDefaultItems] = useState(null);\n  const [items, setItems] = useState(null);\n  const [itemSearch, setItemSearch] = useState(null);\n  const [menClothes, setMenClothes] = useState(null);\n  const [jewelery, setJewelery] = useState(null);\n  const [electronics, setElectronics] = useState(null);\n  const [womenClothes, setWomenClothes] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isOpen, setIsOpen] = useState(false)\n\n  const [basketItem, setBasketItem] = useState([]);\n  const [searchContent, setSearchContent] = useState(\"\");\n  const [tags, setTags] = useState({\n    [\"Women clothing\"]: false,\n    [\"Electronics\"]: false,\n    [\"Men clothing\"]: false,\n    [\"Jewelery\"]: false,\n  });\n\n  const getItems = async () => {\n    try {\n      const result = await axios.get(\"https://fakestoreapi.com/products\");\n      const menArr = [];\n      const womenArr = [];\n      const jewelArr = [];\n      const electArr = [];\n\n      result.data.forEach((el) => {\n        if (el.category === \"men clothing\") {\n          menArr.push(el);\n        }\n        if (el.category === \"women clothing\") {\n          womenArr.push(el);\n        }\n        if (el.category === \"jewelery\") {\n          jewelArr.push(el);\n        }\n        if (el.category === \"electronics\") {\n          electArr.push(el);\n        }\n      });\n\n      await setItems(result.data);\n      await setDefaultItems(result.data);\n      await setMenClothes(menArr);\n      await setWomenClothes(womenArr);\n      await setJewelery(jewelArr);\n      await setElectronics(electArr);\n      setIsLoading(false);\n    } catch (err) {\n      console.log(err);\n      setIsLoading(false);\n    }\n  };\n\n  const verificationTags = () => {\n    for (const el in tags) {\n      if (tags[el] === true) {\n        return true;\n      }\n    }\n  };\n\n  const itemToDisplay = async () => {\n    try {\n      setIsLoading(true);\n      await setSearchContent(\"\");\n      let newArr = [];\n      console.log(\"start\", newArr);\n\n      if (tags[\"Women clothing\"]) {\n        newArr = [...newArr, ...womenClothes];\n        console.log(\"women\", newArr);\n      }\n      if (tags[\"Men clothing\"]) {\n        newArr = [...newArr, ...menClothes];\n        console.log(\"men\", newArr);\n      }\n      if (tags[\"Jewelery\"]) {\n        newArr = [...newArr, ...jewelery];\n        console.log(\"jewelery\", newArr);\n      }\n      if (tags[\"Electronics\"]) {\n        newArr = [...newArr, ...electronics];\n        console.log(\"electronics\", newArr);\n      }\n      console.log(\"end\", newArr);\n      setItems(newArr);\n\n      setIsLoading(false);\n    } catch (err) {\n      console.log(err);\n      setIsLoading(false);\n    }\n  };\n\n  const searchResult = async () => {\n    try {\n      setItemSearch(null);\n      let result = [];\n      items.forEach((el) => {\n        if (el.title.toLowerCase().includes(searchContent.toLowerCase())) {\n          result.push(el);\n        }\n      });\n      console.log(result);\n      if (result.length > 0) {\n        console.log(result);\n        await setItems(result);\n      } else {\n        await setItemSearch(\"no result\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getItems();\n  }, []);\n\n  useEffect(() => {\n    if (verificationTags()) {\n      itemToDisplay();\n    } else {\n      setItems(defaultItems);\n    }\n  }, [tags]);\n\n  useEffect(() => {\n    if (searchContent) {\n      searchResult();\n    } else {\n      setItems(defaultItems);\n    }\n  }, [searchContent]);\n\n  return (\n    <div id=\"app\">\n      {isLoading && (\n        <div className=\"loading-container\">\n          <img src={LoadingPic} />\n        </div>\n      )}\n      {\n          isOpen && \n          <Basket basketItem={basketItem} setBasketItem={setBasketItem}/>\n      }\n      {!isLoading && (\n        <>\n          <Header isOpen={isOpen} setIsOpen={setIsOpen} basketItem={basketItem}/>\n          <div className=\"content-container\">\n            <Filter\n              tags={tags}\n              setTags={setTags}\n              menClothes={menClothes}\n              womenClothes={womenClothes}\n              jewelery={jewelery}\n              electronics={electronics}\n              setSearchContent={setSearchContent}\n              searchContent={searchContent}\n            />\n            {!itemSearch && (\n              <ItemList\n                items={items}\n                basketItem={basketItem}\n                setBasketItem={setBasketItem}\n              />\n            )}\n\n            {searchContent && itemSearch && <h2>No result</h2>}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Header.js",[],"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Filter.js",[],"/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/ItemList.js",["38","39","40","41","42"],"import React, { useState } from \"react\";\n\nconst ItemList = ({ items, basketItem, setBasketItem }) => {\n  const [itemToAdd, setItemToAdd] = useState(1);\n\n  const handleChange = (e) => {\n    setItemToAdd({ qty: e.target.value, id: e.target.name });\n  };\n\n  const addToBasket = (data) => {\n    if (data.id == itemToAdd.id) {\n      const dataToPush = {\n        id: data.id,\n        title: data.title,\n        price: data.price,\n        img: data.image,\n        qty: parseInt(itemToAdd.qty),\n      };\n      if (basketItem.length === 0) {\n        setBasketItem([dataToPush]);\n      } else {\n        const isAlrdyIn = basketItem.findIndex((item) => item.id === data.id);\n        console.log(isAlrdyIn);\n        if(isAlrdyIn != -1){\n            const newArr = [...basketItem];\n            newArr[isAlrdyIn].qty = newArr[isAlrdyIn].qty + dataToPush.qty\n            console.log(newArr);\n            setBasketItem(newArr)\n\n        }else {\n            setBasketItem([...basketItem, dataToPush]);\n        }\n        \n      }\n    } else {\n      const dataToPush = {\n        id: data.id,\n        title: data.title,\n        price: data.price,\n        img: data.image,\n        qty: 1,\n      };\n      if (basketItem.length === 0) {\n        setBasketItem([dataToPush]);\n      } else {\n        const isAlrdyIn = basketItem.findIndex((item) => item.id === data.id);\n        console.log(isAlrdyIn);\n        if(isAlrdyIn != -1){\n            const newArr = [...basketItem];\n            newArr[isAlrdyIn].qty = newArr[isAlrdyIn].qty + dataToPush.qty\n            console.log(newArr);\n            setBasketItem(newArr)\n\n        }else {\n            setBasketItem([...basketItem, dataToPush]);\n        }\n        \n      }\n    }\n  };\n  return (\n    <div className=\"item-list-container\">\n      {items && items.length > 1 && (\n        <>\n          {items.map((data, i) => (\n            <div className=\"item-container\" key={i}>\n              <img className=\"item-picture\" src={data.image} />\n              <h5>{data.title}</h5>\n              <h4>{data.price} $</h4>\n              <div className=\"button-item\">\n                <select name={data.id} onChange={handleChange}>\n                  <option value={1}>1</option>\n                  <option value={2}>2</option>\n                  <option value={3}>3</option>\n                  <option value={4}>4</option>\n                </select>\n                <button onClick={() => addToBasket(data)}>Add to basket</button>\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n      {items && items.length === 0 && (\n        <div className=\"item-container\">\n          <img className=\"item-picture\" src={items[0].image} />\n          <h5>{items[0].title}</h5>\n          <div className=\"button-item\">\n            <select name={items[0].id}>\n              <option value={1}>1</option>\n              <option value={2}>2</option>\n              <option value={3}>3</option>\n              <option value={4}>4</option>\n            </select>\n            <button onClick={() => addToBasket(items[0])}>Add to basket</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ItemList;\n","/Users/dynaste/Documents/ipssi_cours/reactJs/rendu-react/src/components/Basket.js",["43","44","45"],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":24,"column":5,"nodeType":"52","messageId":"53","endLine":24,"endColumn":30,"fix":"54"},{"ruleId":"50","severity":1,"message":"55","line":25,"column":5,"nodeType":"52","messageId":"53","endLine":25,"endColumn":27,"fix":"56"},{"ruleId":"50","severity":1,"message":"57","line":26,"column":5,"nodeType":"52","messageId":"53","endLine":26,"endColumn":28,"fix":"58"},{"ruleId":"50","severity":1,"message":"59","line":27,"column":5,"nodeType":"52","messageId":"53","endLine":27,"endColumn":24,"fix":"60"},{"ruleId":"61","severity":1,"message":"62","line":138,"column":6,"nodeType":"63","endLine":138,"endColumn":12,"suggestions":"64"},{"ruleId":"61","severity":1,"message":"65","line":146,"column":6,"nodeType":"63","endLine":146,"endColumn":21,"suggestions":"66"},{"ruleId":"67","severity":1,"message":"68","line":152,"column":11,"nodeType":"69","endLine":152,"endColumn":35},{"ruleId":"70","severity":1,"message":"71","line":11,"column":17,"nodeType":"72","messageId":"73","endLine":11,"endColumn":19},{"ruleId":"70","severity":1,"message":"74","line":24,"column":22,"nodeType":"72","messageId":"73","endLine":24,"endColumn":24},{"ruleId":"70","severity":1,"message":"74","line":48,"column":22,"nodeType":"72","messageId":"73","endLine":48,"endColumn":24},{"ruleId":"67","severity":1,"message":"68","line":67,"column":15,"nodeType":"69","endLine":67,"endColumn":64},{"ruleId":"67","severity":1,"message":"68","line":85,"column":11,"nodeType":"69","endLine":85,"endColumn":64},{"ruleId":"75","severity":1,"message":"76","line":5,"column":12,"nodeType":"77","messageId":"78","endLine":5,"endColumn":21},{"ruleId":"75","severity":1,"message":"79","line":5,"column":23,"nodeType":"77","messageId":"78","endLine":5,"endColumn":35},{"ruleId":"61","severity":1,"message":"80","line":18,"column":8,"nodeType":"63","endLine":18,"endColumn":20,"suggestions":"81"},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-useless-computed-key","Unnecessarily computed property [\"Women clothing\"] found.","Property","unnecessarilyComputedProperty",{"range":"84","text":"85"},"Unnecessarily computed property [\"Electronics\"] found.",{"range":"86","text":"87"},"Unnecessarily computed property [\"Men clothing\"] found.",{"range":"88","text":"89"},"Unnecessarily computed property [\"Jewelery\"] found.",{"range":"90","text":"91"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'defaultItems', 'itemToDisplay', and 'verificationTags'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setItems' needs the current value of 'defaultItems'.","ArrayExpression",["92"],"React Hook useEffect has missing dependencies: 'defaultItems' and 'searchResult'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setItems' needs the current value of 'defaultItems'.",["93"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","no-unused-vars","'qtyChange' is assigned a value but never used.","Identifier","unusedVar","'setQtyChange' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'total'. Either include it or remove the dependency array.",["94"],"no-global-assign","no-unsafe-negation",[937,955],"\"Women clothing\"",[968,983],"\"Electronics\"",[996,1012],"\"Men clothing\"",[1025,1037],"\"Jewelery\"",{"desc":"95","fix":"96"},{"desc":"97","fix":"98"},{"desc":"99","fix":"100"},"Update the dependencies array to be: [defaultItems, itemToDisplay, tags, verificationTags]",{"range":"101","text":"102"},"Update the dependencies array to be: [defaultItems, searchContent, searchResult]",{"range":"103","text":"104"},"Update the dependencies array to be: [basketItem, total]",{"range":"105","text":"106"},[3636,3642],"[defaultItems, itemToDisplay, tags, verificationTags]",[3767,3782],"[defaultItems, searchContent, searchResult]",[508,520],"[basketItem, total]"]